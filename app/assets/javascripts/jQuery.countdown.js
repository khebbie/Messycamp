/* jCountdown 1.3.3 jQuery Plugin | Copyright 2011 Tom Ellis http://www.webmuse.co.uk | MIT Licensed (license.txt) */
(function(g){g.fn.countdown=function(j){var s={date:new Date,updateTime:1E3,htmlTemplate:"%{d} <span class='cd-time'>days</span> %{h} <span class='cd-time'>hours</span> %{m} <span class='cd-time'>mins</span> %{s} <span class='cd-time'>sec</span>",minus:false,onChange:null,onComplete:null,onResume:null,onPause:null,leadingZero:false,offset:null,servertime:null,hoursOnly:false,direction:"down"},t=[].slice,k=Math.floor,u=/(%\{d\}|%\{h\}|%\{m\}|%\{s\})/g,n=/%\{d\}/,o=/%\{h\}/,p=/%\{m\}/,q=/%\{s\}/,r=
function(c,a){var b,d=new Date;if(c===null)b=d.getTime()-a;else{b=c*36E5;curHrs=d.getTime()- -d.getTimezoneOffset()/60*36E5+b;b=d.setTime(curHrs)}return new Date(b)},l=function(){var c,a,b,d,f,h,i;c="";var e=this.data("jcdData");if(!e)return false;c=e.htmlTemplate;a=e.offset===null&&e.servertime===null?new Date:e.offset!==null?r(e.offset):r(null,e.difference);b=new Date(e.date);d=(e.direction==="down"?b.getTime()-a.getTime():a.getTime()-b.getTime())/864E5;f=k(d);h=(d-f)*24;d=k(h);i=k((h-d)*60);h=
Math.round(((h-d)*60-i)*60);if(e.hoursOnly){d+=f*24;f=0}e.daysLeft=f;e.hrsLeft=d;e.minsLeft=i;e.secLeft=h;if(h==60)h=0;if(e.leadingZero){if(f<10&&!e.hoursOnly)f="0"+f;if(d<10)d="0"+d;if(i<10)i="0"+i;if(h<10)h="0"+h}if(e.direction==="down"&&(a<=b||e.minus))c=c.replace(n,f).replace(o,d).replace(p,i).replace(q,h);else if(e.direction==="up"&&(b<=a||e.minus))c=c.replace(n,f).replace(o,d).replace(p,i).replace(q,h);else{c=c.replace(u,"00");e.hasCompleted=true}this.html(c).trigger("change.jcdevt",[e]);if(e.hasCompleted){this.trigger("complete.jcdevt");
clearInterval(e.timer)}},m={init:function(c){var a=g.extend({},s,c);return this.each(function(){var b=g(this),d={},f;if(b.data("jcdData")){b.countdown("changeSettings",c);return true}a.onChange&&b.bind("change.jcdevt",a.onChange);a.onComplete&&b.bind("complete.jcdevt",a.onComplete);a.onPause&&b.bind("pause.jcdevt",a.onPause);a.onResume&&b.bind("resume.jcdevt",a.onResume);d={originalContent:b.html(),date:a.date,hoursOnly:a.hoursOnly,leadingZero:a.leadingZero,updateTime:a.updateTime,direction:a.direction,
template:a.htmlTemplate,htmlTemplate:a.htmlTemplate,minus:a.minus,offset:a.offset,servertime:a.servertime,difference:null,onChange:a.onChange,onComplete:a.onComplete,onResume:a.onResume,onPause:a.onPause,hasCompleted:false,timer:0};if(a.servertime!==null){f=(new Date).getTime()-d.servertime;f=Number(f);d.difference=f}f=g.proxy(l,b);d.timer=setInterval(f,d.updateTime);b.data("jcdData",d);f()})},changeSettings:function(c){return this.each(function(){var a=g(this),b,d=g.proxy(l,a);if(!a.data("jcdData"))return true;
b=g.extend({},a.data("jcdData"),c);a.unbind(".jcdevt");clearInterval(b.timer);b.onChange&&a.bind("change.jcdevt",b.onChange);b.onComplete&&a.bind("complete.jcdevt",b.onComplete);b.onPause&&a.bind("pause.jcdevt",b.onPause);b.onResume&&a.bind("resume.jcdevt",b.onResume);b.timer=setInterval(d,b.updateTime);a.data("jcdData",b);d()})},resume:function(){return this.each(function(){var c=g(this),a=c.data("jcdData"),b=g.proxy(l,c);if(!a)return true;a.timer=setInterval(b,a.updateTime);c.data("jcdData",a).trigger("resume.jcdevt");
b()})},pause:function(){return this.each(function(){var c=g(this),a=c.data("jcdData");if(!a)return true;clearInterval(a.timer);c.data("jcdData",a).trigger("pause.jcdevt")})},complete:function(){return this.each(function(){var c=g(this),a=c.data("jcdData");if(!a)return true;clearInterval(a.timer);a.hasCompleted=true;c.data("jcdData",a).trigger("complete.jcdevt").unbind(".jcdevt")})},destroy:function(){return this.each(function(){var c=g(this),a=c.data("jcdData");if(!a)return true;clearInterval(a.timer);
c.unbind(".jcdevt").removeData("jcdData").html(a.originalContent)})},getSettings:function(c){var a=g(this).data("jcdData");if(a)if(c){if(a.hasOwnProperty(c))return a[c]}else return a}};if(m[j])return m[j].apply(this,t.call(arguments,1));else if(typeof j==="object"||!j)return m.init.apply(this,arguments);else g.error("Method "+j+" does not exist in the jCountdown Plugin")}})(jQuery);

